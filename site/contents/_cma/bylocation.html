---
layout: page_with_map
title: Index
description: here is a list of my trip reports
sitemap:
  priority: 0.9
report: false
---
<h1>Trip reports</h1>

<p>My trips are primarily in the Pacific Northwest and the
Eastern Alps of Germany, Austria and Italy, with occasional
excursions to the west.
</p>

For the mountain groups in the Alps, I'm making use of 
<a href="https://en.wikipedia.org/wiki/List_of_mountain_groups_in_the_Alpine_Club_classification_of_the_Eastern_Alps">this categorization</a> ((<a href="https://de.wikipedia.org/wiki/Liste_der_Gebirgsgruppen_in_den_Ostalpen_(nach_AVE)">german</a>) for the Eastern Alps.

{% assign mytrips = site.cma | where_exp: "trip", "trip.report != false" %}
{% for region in site.data.locations %}
<h2>{{ region.region }}</h2>
  <ul>
  {% assign sorted_locations = region.locations | sort:"name" %}
  {% for location in sorted_locations %}
    <li>{{ location.name }} - 
      {% assign ltrips = mytrips | where: "location", location.name %}
      {% for trip in ltrips %}
        <a href="{{ trip.url }}">{{ trip.title }}</a>, 
      {% endfor %}
    </li>
  {% endfor %}
  </ul>
{% endfor %}

<div id="map" class="map leaflet-container" style="height: 500px; position:relative;"></div>

<script src="/mapdata.js"  type="text/javascript">
</script>

<script>
  // create the map object and set the cooridnates of the initial view: 
  var map = L.map('map').setView([46.800604, 11.174361], 6);
  var tileserver = "http://c.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey=f13bfa644ac14730b74927c01e626a71";

  // create the tile layer with correct attribution: 
  L.tileLayer(tileserver, {
      attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
      maxZoom: 18
      }).addTo(map);

  var markers = new L.MarkerClusterGroup();

  function formatDate(d) {
    var d2 = new Date(d);
    var monthNames = ["January", "February", "March", "April",
      "May", "June", "July", "August", "September", "October",
      "November", "December"];  
    return monthNames[d2.getMonth()] + ' ' + d2.getFullYear();
  }

  function addMarker(location) {
    let m = new L.marker(location.location);
    let = triplist = "<ul>\n";
    location.trips.forEach((trip) => {
      let sdate = formatDate(trip.date);
      triplist += `<li><a href='${trip.url}'>${trip.title}</a> ${sdate}</li>\n`;
    });
    triplist += "</ul>\n";
    let popupstr = `<h3>${location.name}</h3>\n${triplist}`;
    m.bindPopup(popupstr);
    markers.addLayer(m);
  }

  mapdata.forEach((md) => {
    addMarker(md); 
  });

  markers.addTo(map);
</script>

